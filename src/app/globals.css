@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Base colors */
  --bg-dark: #1e1e2e;
  --bg-darker: #181825;
  --bg-lighter: #242435;
  --bg-lightest: #2a2a3f;

  /* Text colors */
  --text-primary: #cdd6f4;
  --text-secondary: #a1a8c9;

  /* Border and accent colors */
  --border-color: #313244;
  --primary: #89b4fa;
  --primary-dark: #74a4f4;
  --selection: rgba(137, 180, 250, 0.2);

  /* Status colors */
  --success: #a6e3a1;
  --warning: #f9e2af;
  --error: #f38ba8;
  --info: #89dceb;

  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

.dark {
  /* Base colors */
  --bg-dark: #1e1e2e;
  --bg-darker: #181825;
  --bg-lighter: #242435;
  --bg-lightest: #2a2a3f;

  /* Text colors */
  --text-primary: #cdd6f4;
  --text-secondary: #a1a8c9;

  /* Border and accent colors */
  --border-color: #313244;
  --primary: #89b4fa;
  --primary-dark: #74a4f4;
  --selection: rgba(137, 180, 250, 0.2);

  /* Status colors */
  --success: #a6e3a1;
  --warning: #f9e2af;
  --error: #f38ba8;
  --info: #89dceb;
}

.light {
  /* Base colors */
  --bg-dark: #f8f9fc;
  --bg-darker: #f1f3f9;
  --bg-lighter: #ffffff;
  --bg-lightest: #ffffff;

  /* Text colors */
  --text-primary: #1e1e2e;
  --text-secondary: #64748b;

  /* Border and accent colors */
  --border-color: #e2e8f0;
  --primary: #2563eb;
  --primary-dark: #1d4ed8;
  --selection: rgba(37, 99, 235, 0.1);

  /* Status colors */
  --success: #059669;
  --warning: #d97706;
  --error: #dc2626;
  --info: #0284c7;
}

@layer base {
  * {
    @apply border-[var(--border-color)];
  }

  body {
    @apply bg-[var(--bg-dark)] text-[var(--text-primary)] antialiased;
  }

  /* Typography */
  h1 {
    @apply text-2xl font-semibold;
  }

  h2 {
    @apply text-xl font-semibold;
  }

  h3 {
    @apply text-lg font-semibold;
  }

  /* Form elements */
  .input {
    @apply px-3 py-2 rounded-md bg-[var(--bg-dark)] border border-[var(--border-color)] 
           text-sm focus:outline-none focus:ring-1 focus:ring-[var(--primary)] focus:border-[var(--primary)] 
           disabled:opacity-50 disabled:cursor-not-allowed
           transition-all duration-200;
  }

  .btn {
    @apply px-4 py-2 rounded-md font-medium text-sm 
           disabled:opacity-50 disabled:cursor-not-allowed
           transition-all duration-200;
  }

  .btn-primary {
    @apply bg-[var(--primary)] text-white hover:bg-[var(--primary-dark)]
           disabled:hover:bg-[var(--primary)];
  }

  .btn-secondary {
    @apply bg-[var(--bg-lighter)] text-[var(--text-primary)] hover:bg-[var(--bg-lightest)]
           border border-[var(--border-color)];
  }

  .btn-ghost {
    @apply text-[var(--text-secondary)] hover:bg-[var(--bg-lighter)]
           hover:text-[var(--text-primary)];
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-[var(--bg-darker)];
}

::-webkit-scrollbar-thumb {
  @apply bg-[var(--border-color)] rounded-full hover:bg-[var(--text-secondary)];
}

/* Selection */
::selection {
  @apply bg-[var(--selection)] text-[var(--text-primary)];
}

/* Code block styling */
pre {
  @apply p-4 rounded-lg bg-[var(--bg-darker)] border border-[var(--border-color)] 
         overflow-x-auto font-mono text-sm;
}

code {
  @apply font-mono text-sm bg-[var(--bg-darker)] px-1.5 py-0.5 rounded-md;
}

/* Status badges */
.badge {
  @apply px-2 py-0.5 rounded-full text-xs font-medium;
}

.badge-success {
  @apply bg-[var(--success)] bg-opacity-10 text-[var(--success)] border border-[var(--success)] border-opacity-20;
}

.badge-warning {
  @apply bg-[var(--warning)] bg-opacity-10 text-[var(--warning)] border border-[var(--warning)] border-opacity-20;
}

.badge-error {
  @apply bg-[var(--error)] bg-opacity-10 text-[var(--error)] border border-[var(--error)] border-opacity-20;
}

.badge-info {
  @apply bg-[var(--info)] bg-opacity-10 text-[var(--info)] border border-[var(--info)] border-opacity-20;
}

/* Transitions */
.fade-enter {
  @apply opacity-0;
}

.fade-enter-active {
  @apply opacity-100 transition-opacity duration-200;
}

.fade-exit {
  @apply opacity-100;
}

.fade-exit-active {
  @apply opacity-0 transition-opacity duration-200;
}

/* Focus styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:ring-offset-2 focus:ring-offset-[var(--bg-dark)];
}

/* Card styles */
.card {
  @apply bg-[var(--bg-darker)] border border-[var(--border-color)] rounded-lg overflow-hidden;
}

.card-header {
  @apply p-4 border-b border-[var(--border-color)];
}

.card-body {
  @apply p-4;
}

.card-footer {
  @apply p-4 border-t border-[var(--border-color)];
}

/* Message transitions */
.message-enter {
  opacity: 0;
  transform: translateY(10px);
}

.message-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 200ms ease-out,
    transform 200ms ease-out;
}

.message-exit {
  opacity: 1;
  transform: translateY(0);
}

.message-exit-active {
  opacity: 0;
  transform: translateY(-10px);
  transition:
    opacity 200ms ease-in,
    transform 200ms ease-in;
}

/* Monaco Editor customizations */
.monaco-editor .margin {
  background-color: var(--bg-dark) !important;
}

.monaco-editor .minimap {
  opacity: 0.6;
}

/* Terminal customizations */
.xterm {
  padding: 8px;
  height: 100%;
}

.xterm-viewport {
  background-color: var(--bg-darker) !important;
}

/* Syntax highlighting theme */
.token.comment {
  color: #6a9955;
}

.token.string {
  color: #ce9178;
}

.token.number {
  color: #b5cea8;
}

.token.keyword {
  color: #569cd6;
}

/* Activity Bar styles */
.activity-bar-icon {
  @apply w-12 h-12 flex items-center justify-center text-[var(--text-secondary)] 
         hover:text-[var(--text-primary)] cursor-pointer transition-colors relative;
}

.activity-bar-icon.active {
  @apply text-[var(--text-primary)];
}

.activity-bar-icon.active::before {
  content: "";
  @apply absolute left-0 top-0 bottom-0 w-0.5 bg-[var(--primary)];
}

/* Debugger styles */
.debug-breakpoint-active {
  background-color: var(--primary);
  opacity: 0.3;
}

.debug-breakpoint-disabled {
  background-color: var(--text-secondary);
  opacity: 0.2;
}

.debug-breakpoint-glyph-active {
  background-color: var(--primary);
  border-radius: 50%;
  margin-left: 5px;
  width: 8px !important;
  height: 8px !important;
}

.debug-breakpoint-glyph-disabled {
  background-color: var(--text-secondary);
  border-radius: 50%;
  margin-left: 5px;
  width: 8px !important;
  height: 8px !important;
  opacity: 0.5;
}

/* Debug toolbar buttons */
.btn-sm {
  @apply px-2 py-1 text-sm rounded;
}

.btn-error {
  @apply bg-red-500 text-white hover:bg-red-600;
}

/* Debug panel transitions */
.debug-panel-enter {
  transform: translateX(100%);
}

.debug-panel-enter-active {
  transform: translateX(0%);
  transition: transform 200ms ease-out;
}

.debug-panel-exit {
  transform: translateX(0%);
}

.debug-panel-exit-active {
  transform: translateX(100%);
  transition: transform 200ms ease-in;
}

/* Editor styles */
.monaco-editor {
  padding: 0.5rem 0;
  height: 100% !important;
  width: 100% !important;
}

.monaco-editor .overflow-guard {
  height: 100% !important;
  width: 100% !important;
}

/* Make sure the editor container takes full height */
main {
  height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Ensure all parent containers take full height */
body,
html {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

/* Custom scrollbar for the editor */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: #1e1e1e;
}

::-webkit-scrollbar-thumb {
  background: #424242;
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: #4f4f4f;
}
